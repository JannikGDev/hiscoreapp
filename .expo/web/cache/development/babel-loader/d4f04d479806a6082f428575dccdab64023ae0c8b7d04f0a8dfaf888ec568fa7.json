{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport styles from \"../styles/defaultStyle\";\nimport Spacer from \"../shared/Spacer\";\nimport { LogOut, IsLoggedIn } from \"../shared/GlobalStorage.js\";\nimport { UserContext } from \"../shared/Contexts\";\nimport { GetUserData } from \"../shared/CompanionAPI\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar HomeScreen = function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var deDateOptions = {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  };\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoggedIn = _useState2[0],\n    setIsLoggedIn = _useState2[1];\n  var _useState3 = useState(new Date()),\n    _useState4 = _slicedToArray(_useState3, 2),\n    lastVisit = _useState4[0],\n    setLastVisit = _useState4[1];\n  var _useContext = useContext(UserContext),\n    userState = _useContext.userState,\n    setUserState = _useContext.setUserState;\n  return _jsxs(View, {\n    style: styles.pageContainer,\n    children: [_jsx(Image, {\n      source: require(\"../assets/hi-score_logo.png\"),\n      style: [styles.logo, {\n        width: 400,\n        height: 200\n      }]\n    }), _jsx(Spacer, {\n      bottom: 24\n    }), _jsx(View, {\n      style: {\n        width: '50%'\n      },\n      children: _jsx(Button, {\n        title: \"QR Code Scannen\",\n        color: styles.button.color,\n        onPress: function onPress() {\n          return navigation.navigate('QRScanner');\n        }\n      })\n    }), _jsx(Spacer, {\n      bottom: 12\n    }), _jsx(View, {\n      style: {\n        width: '50%'\n      },\n      children: _jsx(Button, {\n        title: \"Profil\",\n        color: styles.button.color,\n        onPress: function onPress() {\n          return navigation.navigate('Profile');\n        }\n      })\n    }), _jsx(Spacer, {\n      bottom: 12\n    }), _jsx(View, {\n      style: {\n        width: '50%'\n      },\n      children: _jsx(Button, {\n        title: \"Quests\",\n        color: styles.button.color,\n        onPress: function onPress() {\n          return navigation.navigate('QuestList');\n        }\n      })\n    }), userState.isAdmin ? _jsxs(_Fragment, {\n      children: [_jsx(Spacer, {\n        bottom: 12\n      }), _jsx(View, {\n        style: {\n          width: '50%'\n        },\n        children: _jsx(Button, {\n          title: \"Generate QR Code\",\n          color: styles.button.color,\n          onPress: function onPress() {\n            return navigation.navigate('QRCodeGenerator');\n          }\n        })\n      })]\n    }) : _jsx(_Fragment, {}), _jsx(Spacer, {\n      bottom: 48\n    }), _jsx(View, {\n      style: {\n        width: '50%'\n      },\n      children: _jsx(Button, {\n        title: \"Logout\",\n        color: styles.button.color,\n        onPress: _asyncToGenerator(function* () {\n          yield LogOut();\n          var newState = _objectSpread({}, userState);\n          newState.loggedIn = yield IsLoggedIn();\n          setUserState(newState);\n        })\n      })\n    })]\n  });\n};\nexport default HomeScreen;","map":{"version":3,"names":["React","useState","useContext","useEffect","styles","Spacer","LogOut","IsLoggedIn","UserContext","GetUserData","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","HomeScreen","_ref","navigation","deDateOptions","weekday","year","month","day","_useState","_useState2","_slicedToArray","isLoggedIn","setIsLoggedIn","_useState3","Date","_useState4","lastVisit","setLastVisit","_useContext","userState","setUserState","View","style","pageContainer","children","Image","source","require","logo","width","height","bottom","Button","title","color","button","onPress","navigate","isAdmin","_asyncToGenerator","newState","_objectSpread","loggedIn"],"sources":["C:/Workspace/Programming/Mobile/hiscoreapp/HI-SCORE/screens/HomeScreen.js"],"sourcesContent":["import { StyleSheet, Text, View, Image, Button } from 'react-native';\r\nimport React, {useState, useContext, useEffect} from 'react';\r\nimport styles from '../styles/defaultStyle';\r\nimport Spacer from '../shared/Spacer'\r\nimport { LogOut, IsLoggedIn } from '../shared/GlobalStorage.js';\r\nimport { UserContext } from '../shared/Contexts';\r\nimport { GetUserData } from '../shared/CompanionAPI';\r\n\r\n\r\n\r\nconst HomeScreen = ({navigation}) => {\r\n\r\n    const deDateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\r\n\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [lastVisit, setLastVisit] = useState(new Date());\r\n\r\n    const {userState, setUserState} = useContext(UserContext);\r\n\r\n    return (\r\n        <View style={styles.pageContainer}>\r\n\r\n        <Image source={require('../assets/hi-score_logo.png')}\r\n        style={[styles.logo,{width: 400, height: 200}]}/>\r\n\r\n        <Spacer bottom={24} />\r\n\r\n        <View style = {{width: '50%'}}>\r\n            <Button\r\n            title=\"QR Code Scannen\"\r\n            color={styles.button.color}\r\n            onPress={() =>\r\n                navigation.navigate('QRScanner')\r\n            }\r\n            />\r\n        </View>\r\n        <Spacer bottom={12} />\r\n    \r\n        <View style = {{width: '50%'}}>\r\n            <Button\r\n            title=\"Profil\"\r\n            color={styles.button.color}\r\n            onPress={() =>\r\n                navigation.navigate('Profile')\r\n            }\r\n            />\r\n        </View>\r\n        <Spacer bottom={12} />\r\n\r\n        <View style = {{width: '50%'}}>\r\n            <Button\r\n            title=\"Quests\"\r\n            color={styles.button.color}\r\n            onPress={() =>\r\n                navigation.navigate('QuestList')\r\n            }\r\n            />\r\n        </View>\r\n\r\n\r\n        {\r\n        (userState.isAdmin) ? \r\n            (<>\r\n            <Spacer bottom={12} />\r\n            <View style = {{width: '50%'}}>\r\n            <Button\r\n            title=\"Generate QR Code\"\r\n            color={styles.button.color}\r\n            onPress={() =>\r\n                navigation.navigate('QRCodeGenerator')\r\n            }\r\n            />\r\n        </View></> )\r\n            : \r\n            (<></>)    \r\n        }   \r\n        <Spacer bottom={48} />\r\n        <View style = {{width: '50%'}}>\r\n            <Button\r\n            title=\"Logout\"\r\n            color={styles.button.color}\r\n            onPress={async () =>{\r\n                await LogOut();\r\n                let newState = {...userState};\r\n                newState.loggedIn = await IsLoggedIn();\r\n                setUserState(newState);\r\n            }}\r\n            />\r\n        </View>\r\n\r\n      </View>\r\n    );\r\n  };\r\n\r\n  export default HomeScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}